<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body {
  background-color: #111;
  color: white;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
}
h1 { color: #4CAF50; }
input, textarea {
  width: 100%;
  padding: 8px;
  margin: 10px 0;
  border-radius: 6px;
  border: none;
  outline: none;
  font-size: 14px;
}
button {
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
}
button:hover { background-color: #45a049; }
#login-box {
  text-align: center;
  margin-top: 100px;
}
#admin-content {
  display: none;
  max-width: 600px;
  margin: auto;
}
</style>
</head>
<body>

<div id="login-box">
  <h2>🔒 Admin Login</h2>
  <input type="password" id="admin-pass" placeholder="Enter password..." />
  <button id="login-btn">Login</button>
</div>

<div id="admin-content">
  <h1>🛠️ Live Site Controls</h1>

  <label>🎨 Background Color:</label>
  <input type="color" id="bgColor">

  <label>🧾 Announcement (HTML supported):</label>
  <textarea id="announcement" rows="3" placeholder="Enter announcement..."></textarea>

  <label>😱 Jumpscare Image URL:</label>
  <input type="text" id="jumpscareImage" placeholder="https://...">

  <label>⏱️ Jumpscare Trigger (seconds):</label>
  <input type="number" id="jumpscareTrigger" min="0" placeholder="e.g. 10">

  <button id="save">Save Changes</button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
// 🔥 Replace this with your actual Firebase config
const firebaseConfig = {
    apiKey: "AIzaSyC-IDS2wfF3ZgVzjwf0cHUazNGolLFhXVQ",
    authDomain: "mostpopular-39c60.firebaseapp.com",
    databaseURL: "https://mostpopular-39c60-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "mostpopular-39c60",
    storageBucket: "mostpopular-39c60.firebasestorage.app",
    messagingSenderId: "939775132675",
    appId: "1:939775132675:web:7d40bd8fff497c53553a36",
    measurementId: "G-XTTQ03YFN9"
  };

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const settingsRef = db.ref("siteSettings");

// 🔐 Basic admin login
const PASSWORD = "admin123"; // Change this to your secret
document.getElementById("login-btn").onclick = () => {
  const input = document.getElementById("admin-pass").value;
  if (input === PASSWORD) {
    document.getElementById("login-box").style.display = "none";
    document.getElementById("admin-content").style.display = "block";
    loadSettings();
  } else {
    alert("❌ Wrong password!");
  }
};

// 📥 Load current Firebase settings
function loadSettings() {
  settingsRef.once("value", snapshot => {
    const s = snapshot.val() || {};
    document.getElementById("bgColor").value = s.backgroundColor || "#0a0a0a";
    document.getElementById("announcement").value = s.announcement || "";
    document.getElementById("jumpscareImage").value = s.jumpscareImage || "";
    document.getElementById("jumpscareTrigger").value = s.jumpscareTrigger || "";
  });
}

// 💾 Save new settings to Firebase
document.getElementById("save").onclick = () => {
  const settings = {
    backgroundColor: document.getElementById("bgColor").value,
    announcement: document.getElementById("announcement").value,
    jumpscareImage: document.getElementById("jumpscareImage").value,
    jumpscareTrigger: parseInt(document.getElementById("jumpscareTrigger").value) || 0
  };
  settingsRef.set(settings).then(() => alert("✅ Changes saved & live!"));
};
</script>
</body>
</html>
